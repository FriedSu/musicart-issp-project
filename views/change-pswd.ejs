<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel = "stylesheet" href="/style.css">
    <title>Musicart: Change Password</title>
</head>
<body>
    <div class = "title">
        <h1>Change Password</h1>
    </div>
        <div class = container>
        <form action="/edit-profile/change-password" method="POST" onsubmit="return validate()">
            <div class="form-group">
                <label for="newPassword"><b>New Password</b></label>
                <input type="password" placeholder="Enter New Password" id="newPassword" name="newPassword" required>
            </div>
            <div class="form-group">
                <label for="password"><b>Confirm Password</b></label>
                <input type="password" placeholder="Confirm Password" id="confirmPassword" name="confirmPassword" onkeyup="check(this)" required>
            </div>
            <button type="submit">Submit</button>
        </form>
            <p>
                <error id="alert"></error>
            </p>
        </div>
</body>
<script type="text/javascript">
    let newPassword = document.getElementById('newPassword')
    let flag = 1;
    function check(elem) {
        if(elem.value.length > 0){
            if (elem.value != newPassword.value){
                document.getElementById('alert').innerText = "Passwords do not match";
                flag = 0;
            }else{
                document.getElementById('alert').innerText = "";
                flag = 1;
            }
        }else{
            document.getElementById('alert').innerText = "Please enter confirm password";
            flag = 0;
        }
    }
    function validate() {
        if(flag==1){
            return true;
        }else{
            return false;
        }
    }
</script>
</html>